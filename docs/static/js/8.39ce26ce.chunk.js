(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[8],{24:function(t,e,n){"use strict";n.r(e);var a,r=n(31),s=n(0),c=n.n(s);!function(t){t[t.EMPTY=0]="EMPTY",t[t.HALF=1]="HALF",t[t.DONE=2]="DONE"}(a||(a={}));var o={startPageY:0,distanceStatus:a.DONE,freshAble:!1,freshDistance:90,loadDistance:60,domHeight:0};function i(t){var e,n,i=Object(s.useState)(""),u=Object(r.a)(i,2),f=u[0],l=u[1],d=Object(s.useState)({transform:"",transition:""}),m=Object(r.a)(d,2),h=m[0],p=m[1],E="zui-scroll-box ".concat(t.className||"");Object(s.useEffect)((function(){o.domHeight=n.offsetHeight}));var H=function(){o.distanceStatus=a.DONE,p({transform:"translate(0, -50px)",transition:"transform 0.6s"})};return c.a.createElement("div",{className:E},c.a.createElement("div",{ref:function(t){return e=t},className:"zui-scroll-area",style:h,onTouchStart:function(n){"function"===typeof t.freshHandler?(p({transform:"",transition:""}),o.distanceStatus=a.EMPTY,o.startPageY=n.touches[0].pageY,o.freshAble=0===e.scrollTop):o.freshAble=!1},onTouchMove:function(t){o.freshAble&&function(t){var e=(t.touches[0].pageY-o.startPageY)/2;e>0&&(p({transform:"translate(0, ".concat(e-50,"px)"),transition:""}),e>o.freshDistance?(o.distanceStatus=a.DONE,l("\u677e\u5f00\u5237\u65b0")):(o.distanceStatus=a.HALF,l("\u4e0b\u62c9\u5237\u65b0")))}(t)},onTouchEnd:function(){if(o.distanceStatus===a.DONE&&"function"===typeof t.freshHandler)return p({transform:"translate(0, 0)",transition:"transform 3s"}),l("\u5237\u65b0\u4e2d >>>"),t.freshHandler(),void setTimeout((function(){return H()}),300);o.distanceStatus!==a.HALF?"function"!==typeof t.loadHandler||function(){var t=e.offsetHeight,n=e.scrollTop;return o.domHeight<=o.loadDistance+t+n}()&&t.loadHandler():H()}},c.a.createElement("div",{className:"zui-scroll-tip"},f),c.a.createElement("div",{ref:function(t){return n=t},className:"zui-scroll"},t.children)))}function u(t){return Array(t.num).fill(0).map((function(t,e){return c.a.createElement("div",{className:"test-content",key:e},e+1,"\uff1a\u9700\u7528\u624b\u673a\u6a21\u5f0f\u6d4b\u8bd5")}))}e.default=function(){var t=Object(s.useState)(50),e=Object(r.a)(t,2),n=e[0],a=e[1];return c.a.createElement(i,{className:"test-fresh",freshHandler:function(){a(50)},loadHandler:function(){a(n+30)}},c.a.createElement(u,{num:n}))}}}]);
//# sourceMappingURL=8.39ce26ce.chunk.js.map