{"version":3,"sources":["controller/picker.ts","controller/event.ts","views/sub-views/PickerCol.tsx","views/Picker.tsx","views/PickerView.tsx","site/pages/picker/index.js","../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","views/Transition.tsx","views/Sheet.tsx"],"names":["PickerControl","index","maxIdx","colStyle","LINE_HEIGHT","curY","oldY","isAnm","this","translateY","transition","e","touchType","type","touches","pageY","adjustTranslate","adjustTranIdx","curTransLateY","maxTranslate","curPickIdx","Math","abs","round","getPageY","getFinallyTranslate","EventControl","ele","eventList","willPreventDefault","willNotPreventDefault","$ele","isPassiveSupported","passiveSupported","passive","start","move","end","touchstart","mousedown","touchmove","mousemove","touchend","mouseup","Object","keys","forEach","key","pd","indexOf","addEventListener","removeEventListener","PickerCol","colRef","list","value","onChange","pickControl","findIndex","val","length","initPickerControl","useState","setColStyle","onStartHandler","onStart","onMoveHandler","stopPropagation","preventDefault","onMove","onEndHandler","onEnd","useEffect","eventControl","createEventList","listenerAllOfEle","removeAllOfEle","className","ref","style","transform","map","item","label","Picker","data","values","pickValues","setValues","colChangeHandler","idx","pickIdx","oldState","splice","pickerClassName","PickerView","props","indexes","pickObj","setValue","Sheet","ensureHandler","onEnsure","button","Button","TestPicker","values1","setValues1","values2","setValues2","textAlign","margin","console","log","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","i","descriptor","enumerable","configurable","writable","defineProperty","_createClass","protoProps","staticProps","prototype","Transition","name","isShow","children","time","initName","transitionName","setName","isConShow","setConShow","setTimeout","React","Children","child","childTs","cloneElement","setIsShow","closeSheet","onClick","header","titleTxt"],"mappings":"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","file":"static/js/0.5a020f43.chunk.js","sourcesContent":["import { TouchEvent, MouseEvent } from 'react';\n\ntype PickerEvent = TouchEvent<HTMLDivElement> | MouseEvent<HTMLDivElement>;\n\nclass PickerControl {\n    colStyle: {\n        translateY: number,\n        transition: string\n    };\n    LINE_HEIGHT: number;\n    maxIdx: number\n    curY: number;\n    oldY: number;\n    isAnm: boolean;\n\n    constructor(index: number, maxIdx: number) {\n        this.LINE_HEIGHT = 26;\n        this.maxIdx = maxIdx\n        this.colStyle = {\n            translateY: - (index * this.LINE_HEIGHT),\n            transition: 'none',\n        }\n        this.curY = 0;\n        this.oldY = 0;\n        this.isAnm = false;\n    }\n\n    getPageY(e: PickerEvent, touchType: string) {\n        let pageY: number;\n        if (e.type === touchType) {\n            pageY = (e as TouchEvent<HTMLDivElement>).touches[0].pageY;\n        } else {\n            pageY = (e as MouseEvent<HTMLDivElement>).pageY;\n        }\n        return pageY;\n    }\n\n    getFinallyTranslate() {\n        let adjustTranslate, adjustTranIdx;\n        const curTransLateY = this.colStyle.translateY;\n        const maxTranslate = - this.maxIdx * this.LINE_HEIGHT;\n\n        if (curTransLateY > 0) {\n            adjustTranslate = 0;\n            adjustTranIdx = 0;\n        } else if (curTransLateY < maxTranslate) {\n            adjustTranslate = maxTranslate;\n            adjustTranIdx = this.maxIdx;\n        } else {\n            const curPickIdx = Math.abs(Math.round(curTransLateY / this.LINE_HEIGHT));\n            adjustTranslate = - curPickIdx * this.LINE_HEIGHT;\n            adjustTranIdx = curPickIdx;\n        }\n\n        return { adjustTranIdx, adjustTranslate };\n    }\n\n    onStart(e: PickerEvent) {\n        this.curY = this.getPageY(e, 'touchstart');\n        this.oldY = this.colStyle.translateY;\n        this.isAnm = true;\n    }\n\n    onMove(e: PickerEvent) {\n        if (this.isAnm) {\n            const translateY = this.getPageY(e, 'touchmove') - this.curY;\n            this.colStyle = {\n                translateY: translateY + this.oldY,\n                transition: 'none'\n            };\n        }\n    }\n\n    onEnd(): number {\n        this.isAnm = false;\n        const { adjustTranIdx, adjustTranslate } = this.getFinallyTranslate();\n        this.colStyle = {\n            translateY: adjustTranslate,\n            transition: 'all 0.3s'\n        }\n        return adjustTranIdx;\n    }\n}\n\nexport default PickerControl;","import { passiveSupported } from \"../utils/base\";\n\nclass EventControl {\n    \n    eventList: {[key: string]: Function};\n    willPreventDefault: object | boolean;\n    willNotPreventDefault: object | boolean;\n    $ele: HTMLDivElement;\n\n    constructor(ele: HTMLDivElement) {\n        this.eventList = {};\n        const isPassiveSupported = passiveSupported();\n        this.willPreventDefault = isPassiveSupported ? { passive: false } : false;\n        this.willNotPreventDefault = isPassiveSupported ? { passive: true } : false;\n        this.$ele = ele;\n    }\n\n    createEventList(start: Function, move: Function, end: Function) {\n        this.eventList =  {\n            touchstart: start,\n            mousedown: start,\n            touchmove: move,\n            mousemove: move,\n            touchend: end,\n            mouseup: end,\n        }\n    }\n\n    listenerAllOfEle() {\n        Object.keys(this.eventList).forEach(key => {\n            const pd = key.indexOf('move') >= 0 ? this.willPreventDefault : this.willNotPreventDefault;\n            this.$ele.addEventListener(key, this.eventList[key] as any, pd as any);\n        })\n    }\n\n    removeAllOfEle() {\n        Object.keys(this.eventList).forEach(key => {\n            this.$ele.removeEventListener(key, this.eventList[key] as any);\n        })\n    }\n}\n\nexport default EventControl;\n","import React, { useState, useEffect, TouchEvent, MouseEvent } from 'react';\nimport PickerControl from '../../controller/picker';\n\nimport EventControl from '../../controller/event';\n\ninterface PickerColProps {\n    list: Array<any>,\n    value: ValueType,\n    onChange?: Function\n}\n\ntype ValueType = string | number;\ntype PickerEvent = TouchEvent<HTMLDivElement> | MouseEvent<HTMLDivElement>;\n\nexport default function PickerCol({list, value, onChange}: PickerColProps) {\n\n    let colRef: HTMLDivElement | null;\n\n    function initPickerControl (list: Array<any>, value: ValueType) {\n        let index = list.findIndex(val => val.value === value);\n        index = index === -1 ? 0 : index;\n        return new PickerControl(index, list.length-1);\n    }\n\n    const pickControl = initPickerControl(list, value);\n    const [colStyle, setColStyle] = useState(pickControl.colStyle)\n\n    const onStartHandler = (e: PickerEvent) => {\n        pickControl.onStart(e);\n    }\n\n    const onMoveHandler = (e: PickerEvent) => {\n        e.stopPropagation();\n        e.preventDefault();\n        pickControl.onMove(e);\n        setColStyle(pickControl.colStyle);\n    }\n\n    const onEndHandler = (e: PickerEvent) => {\n        const adjustTranIdx = pickControl.onEnd();\n        setColStyle(pickControl.colStyle);\n        const value = list[adjustTranIdx].value;\n        if (typeof onChange === 'function') {\n            onChange(value)\n        }\n    }\n    \n    useEffect(() => {\n        const eventControl = new EventControl(colRef as HTMLDivElement);\n        eventControl.createEventList(onStartHandler, onMoveHandler, onEndHandler);\n        eventControl.listenerAllOfEle();\n        return () => {\n            eventControl.removeAllOfEle();\n        }\n    }, [])\n\n    return <div className=\"zui-picker-col\">\n        <div\n            className=\"zui-picker-col-mask\"\n            ref={ele => colRef = ele}>\n        </div>\n        <div\n            className=\"zui-picker-col-area\"\n            style={{\n                transition: colStyle.transition,\n                transform: `translateY(${colStyle.translateY}px)`,\n            }}>\n            {\n                list.map(item=> <div className=\"zui-picker-item\"\n                    key={item.value}>{item.label}</div>)\n            }\n        </div>\n    </div>\n}","import React, { useState } from 'react';\nimport PickerCol from './sub-views/PickerCol';\n\n// import { typeCheck } from '../utils/base';\n\nexport interface PickerProps {\n    data: Array<Array<{[key: string]: string}>>,\n    values: Array<string | number>,\n    className?: string,\n    onChange?: Function\n}\n\nfunction Picker({data, values, className, onChange}: PickerProps) {\n\n    const [pickValues, setValues] = useState(['', '']);\n\n    // if (typeCheck([\n    //     ['data', data, 'Array'],\n    //     ['values', values, 'Array'],\n    //     ['className', className, 'String', 'Undefined', 'Null'],\n    //     ['onChange', onChange, 'Function', 'Undefined', 'Null']\n    // ])) return null;\n\n    const colChangeHandler = (idx: number) => (value: string, pickIdx: number) => {\n        setValues((oldState) => {\n            oldState.splice(idx, 1, value);\n            return oldState;\n        })\n        onChange && onChange(pickValues);\n    }\n\n    const pickerClassName = `zui-picker ${className || ''}`\n\n    return <div className={pickerClassName}>\n        {\n            data.map((list, idx) => <PickerCol\n                key={idx}\n                value={values[idx]}\n                list={list}\n                onChange={colChangeHandler(idx)}\n            ></PickerCol>)\n        }\n    </div>\n}\n\nexport default Picker;","import React, { useState } from 'react';\n\nimport Sheet from './Sheet';\nimport Button from './Button';\nimport Picker from './Picker'\n\ninterface PickerViewProps {\n    data: Array<Array<{[key: string]: string}>>,\n    values: Array<string | number>,\n    onChange?: Function,\n    onEnsure?: Function\n}\n\ninterface GlobalAttr {\n    values: Array<string>,\n    indexes: Array<number>\n}\n\nfunction PickerView(props: PickerViewProps) {\n\n    const [pickObj, setValue] = useState({values: [], indexes: []} as GlobalAttr);\n\n    const ensureHandler = () => {\n        if (typeof props.onEnsure === 'function') {\n            props.onEnsure(pickObj.values, pickObj.indexes)\n        }\n    }\n\n    const changeHandler = (values: Array<string>, indexes: Array<number>) => {\n        setValue({ values, indexes });\n        if (typeof props.onChange === 'function') {\n            props.onChange(values, indexes)\n        }\n    }\n\n    return <Sheet\n        ensureHandler={ensureHandler}\n        button={<Button>弹出Picker</Button>}>\n        <Picker\n            className=\"zui-picker-view\"\n            data={props.data}\n            values={props.values}\n            onChange={changeHandler}\n        ></Picker>\n    </Sheet>\n}\n\nexport default PickerView;","import React, { useState } from 'react';\n\nimport Picker from '../../../views/Picker';\nimport PickerView from '../../../views/PickerView';\n\nconst data = [\n    [\n        {\n            value: '1',\n            label: 'test1'\n        },{\n            value: '2',\n            label: 'test2'\n        },{\n            value: '3',\n            label: 'test3'\n        },{\n            value: '4',\n            label: 'test4'\n        },{\n            value: '5',\n            label: 'test5'\n        },\n    ], [\n        {\n            value: '11',\n            label: '测试1'\n        },{\n            value: '22',\n            label: '测试2'\n        },{\n            value: '33',\n            label: '测试3'\n        },{\n            value: '44',\n            label: '测试4'\n        },{\n            value: '55',\n            label: '测试5'\n        },\n    ]\n]\n\n\nconst TestPicker = () => {\n\n    const [values1, setValues1] = useState(['2', '44']);\n    const [values2, setValues2] = useState(['3', '22']);\n\n\n    const changeHandler = (values) => {\n        setValues1(values);\n        console.log(values);\n    }\n\n    const changeHandler2 = (values) => {\n        setValues2(values);\n        console.log(values);\n    }\n\n    const ensureHandler = (values) => {\n        console.log(values);\n    }\n\n    return <div>\n        <div style={{textAlign: 'center', margin: '33px 0'}}>\n            <p>使用了 touch 事件</p>\n            <p>需使用手机模式</p>\n        </div>\n        <Picker\n            data={data}\n            values={values1}\n            onChange={changeHandler}>\n        </Picker>\n        <br></br>\n        <PickerView\n            data={data}\n            values={values2}\n            onChange={changeHandler2}\n            onEnsure={ensureHandler}>\n        </PickerView>\n    </div>\n}\n\nexport default TestPicker;","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import React, {useState, useEffect} from 'react';\n\ninterface TransitionProps {\n    name: string,\n    isShow: boolean,\n    children: React.ReactNode,\n    time?: number\n}\n\nexport default function Transition({name, isShow, children, time = 300}: TransitionProps) {\n\n    const initName = name || '';\n\n    const [transitionName, setName] = useState('');\n    const [isConShow, setConShow] = useState(false);\n\n    useEffect(() => {\n        if (isShow) {\n            setConShow(true);\n            setTimeout(() => {\n                setName(`${initName}--in`);\n            }, 34); // 下两帧\n        }\n        return () => {\n            // 当销毁时 设置 class 为 out\n            if (!isConShow && isShow) {\n                setName(`${initName}--out`);\n                // 正常关闭\n                setTimeout(() => {\n                    setConShow(false);\n                    setName('');\n                }, time);\n                // TODO\n                // 也可以通过 transitionEnd 来计算结束时间\n                // 但是如果没有设置动画效果那么怎么办？\n                // 如何判断是否有动画效果？\n            }\n        }\n    }, [isShow])\n\n    return <>\n        {\n            isConShow ?\n                React.Children.map(children, (child) => {\n                    const childTs = child as React.DetailedReactHTMLElement<any, HTMLElement>;\n                    return React.cloneElement(childTs,\n                        {\n                            className:  `${childTs.props.className} ${transitionName}`,\n                        },\n                        // children // 外包裹\n                    )\n                })\n                : null\n        }\n    </>\n}\n","import React, { useState, ReactNode, MouseEvent } from 'react';\nimport Transition from './Transition';\n\ninterface SheetProps {\n    children: ReactNode,\n    button: ReactNode, // 触发Sheet的按钮\n    header?: ReactNode,\n    titleTxt?: string,\n    canModalClose?: boolean,\n    ensureHandler?: Function\n}\n\nexport default  function Sheet(props: SheetProps) {\n    const [isShow, setIsShow] = useState(false);\n\n    const modalHandler = () => {\n        setIsShow(false);\n    }\n\n    const closeSheet = () => {\n        setIsShow(false);\n    }\n\n    const clickHandler = (e: MouseEvent<HTMLElement>): void => {\n        // e.cancelBubble = true; // 阻止冒泡\n        e.stopPropagation(); // 阻止冒泡\n        if (typeof props.ensureHandler === 'function') {\n            props.ensureHandler();\n        }\n        closeSheet();\n    }\n\n    \n    return <>\n        <div onClick={() => setIsShow(true)}>{props.button}</div>\n        <Transition name=\"zui-sheet\" isShow={isShow}>\n            <div className='zui-sheet-box'>\n                <div className=\"zui-sheet-mask\" onClick={modalHandler}></div>\n                {/* sheet主体 */}\n                <div className=\"zui-sheet-area\">\n                    {/* 头部信息 */}\n                    {\n                        props.header ?\n                            props.header :\n                            <div className=\"zui-sheet-header\">\n                                <div onClick={closeSheet}>取消</div>\n                                <div>{props.titleTxt || ''}</div>\n                                <div onClick={clickHandler}>确定</div>\n                            </div>\n                    }\n                    {/* 内容部分 */}\n                    <div\n                        className=\"zui-sheet-body\"\n                    >{props.children}</div>\n                </div>\n            </div>\n        </Transition>\n    </>\n}\n"],"sourceRoot":""}